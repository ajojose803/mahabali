<%- include('../partials/userHeader')-%>
    <!-- Breadcrumb Begin -->
    <style>
        .shop__sidebar {
            padding: 20px;
        }

        .contact__content ul {
            list-style-type: none;
            padding: 0;
        }

        .contact__content ul a {
            display: block;
            padding: 10px;
            text-decoration: none;
            color: black;
            border-bottom: 1px solid #ddd;
        }

        .contact__content ul a.active {
            background-color: #c91414;
            color: white;
        }

        .contact__content ul a:hover {
            background-color: #f0f0f0;
        }

        .form-container {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .form-container h2 {
            margin-bottom: 20px;
            font-size: 24px;
            color: #333;
            text-align: center;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }

        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .form-group input[readonly] {
            background-color: #f9f9f9;
        }

        .checkout__form__input input:focus {
            border-color: #c91414;
            outline: none;
        }

        .site-btn-container {
            text-align: center;
        }

        .site-btn {
            padding: 12px 25px;
            background-color: #c91414;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }

        .site-btn:hover {
            background-color: #811111;
        }
    </style>
    <div class="breadcrumb-option">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb__links">
                        <a href="/"><i class="fa fa-home"></i> Home</a>
                        <a href="/profile">My Account</a>
                        <span>Personal Information</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Breadcrumb End -->

    <!-- Contact Section Begin -->
    <section class="spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    <div class="shop__sidebar">
                        <!-- Filter Sidebar -->
                        <div class="contact__content">
                            <h5 class=>My Account</h5>
                            <br>
                            <ul>
                                <a href="/profile/" >
                                    <span class="fa fa-info-circle" style="margin-right: 10px;"></span> Personal
                                    Information
                                </a>
                                <a href="/profile/address">
                                    <span class="fa fa-address-card" style="margin-right: 10px;"></span> Address
                                </a>
                                <a href="/profile/orders">
                                    <span class="fa fa-shopping-bag" style="margin-right: 10px;"></span> Orders
                                </a>
                                <a href="/profile/wallet">
                                    <span class="fa fa-credit-card" style="margin-right: 10px;"></span> Wallet
                                </a>
                                <a href="/profile/change-password" class="active">
                                    <span class="fa fa-key" style="margin-right: 10px;"></span> Change Password
                                </a>
                            </ul>


                        </div>
                    </div>
                </div>
                <div class="col-lg-9 col-md-9">
                    <div class="form-container">
                        <h2>Update Password</h2>
                        <form action="/profile/password-update" method= "post" class="checkout__form" onsubmit="return validatePassword()&& confirmPassword()">
                            <div class="checkout__form__input">
                                <p>Current Password<span>*</span></p>
                                <input type="password" id="currentPassword" name="currentPassword" placeholder="Current Password" required>
                                <% if(currentPassword && currentPassword.length > 0){ %>
                                  <div style="color: red; font-size: 16px; font-weight: bold;">
                                      <%= pass %>
                                  </div>
                              <% } %>
                            </div>
                            <div class="checkout__form__input">
                                <p>New Password<span>*</span></p>
                                <input type="password" id="newPassword" name="newPassword" placeholder="New Password" required>
                                <span style="color: white; font-weight: 500;" id="passwordError"></span>
                            </div>
                            <div class="checkout__form__input">
                                <p>Confirm Password <span>*</span></p>
                                <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password" required>
                                <span style="color: white; font-weight: 500;" id="confirmPasswordError"></span>
                            </div>
                            <div class="site-btn-container">
                                <button type="submit" class="site-btn">Update</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Contact Section End -->
    <script>
      function validatePassword() {
        var passwordError = document.getElementById('passwordError');
        var password = document.getElementById('newPassword').value;
      
        if (!password.match(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*()-_+=<>?])[A-Za-z\d\S]{8,}$/)) {
            passwordError.innerHTML = 'Password must be atleast 8 characters with atleast one letter, one digit and one special character!'
            return false;
        } else {
            passwordError.innerHTML = '';
            return true;
        }
      }
      
      function confirmPassword() {
        console.log('confirmPassword function called');
        var password = document.getElementById('newPassword').value;
        var confirmPassword = document.getElementById('confirmPassword').value;
        var passwordError = document.getElementById('confirmPasswordError');
      
        if (password !== confirmPassword) {
            passwordError.innerHTML = 'Passwords do not match!';
            return false;
        } else {
            passwordError.innerHTML = '';
            return true;
        }
      }
      
      </script>

    <%- include('../partials/userFooter')-%>